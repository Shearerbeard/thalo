# The name of the aggregate
name: BankAccount

# The events resulted resulting from commands
events:
  AccountOpened:
    fields:
      - initial_balance: float

  DepositedFunds:
    fields:
      - amount: float

  WithdrewFunds:
    fields:
      - amount: float

# The commands availble for the aggregate
commands:
  open_account:
    event: AccountOpened # resulting event when command is successful
    infallible: false
    optional: false
    params:
      - initial_balance: float

  deposit_funds:
    event: DepositedFunds
    params:
      - amount: float

  withdraw_funds:
    event: WithdrewFunds
    params:
      - amount: float

# Errors that can occur when executing a command
errors:
  NegativeAmount:
    message: "amount cannot be negative"

  InsufficientFunds:
    message: "insufficient funds for transaction"
